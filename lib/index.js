"use strict";
Object.defineProperties(exports, {
  I2C: {get: function() {
      return I2C;
    }},
  __esModule: {value: true}
});
var $__execSync__,
    $__raspi_45_peripheral__,
    $___46__46__47_build_47_Release_47_addon__;
var sh = ($__execSync__ = require("execSync"), $__execSync__ && $__execSync__.__esModule && $__execSync__ || {default: $__execSync__}).default;
var Peripheral = ($__raspi_45_peripheral__ = require("raspi-peripheral"), $__raspi_45_peripheral__ && $__raspi_45_peripheral__.__esModule && $__raspi_45_peripheral__ || {default: $__raspi_45_peripheral__}).Peripheral;
var addon = ($___46__46__47_build_47_Release_47_addon__ = require("../build/Release/addon"), $___46__46__47_build_47_Release_47_addon__ && $___46__46__47_build_47_Release_47_addon__.__esModule && $___46__46__47_build_47_Release_47_addon__ || {default: $___46__46__47_build_47_Release_47_addon__}).default;
var I2C = function I2C(address, baudRate) {
  $traceurRuntime.superCall(this, $I2C.prototype, "constructor", [['SDA', 'SCL']]);
  if (baudRate) {
    if (typeof baudRate != number || baudRate % 1000 != 0) {
      throw new Error('Invalid I2C baud rate. Baud rates must be a multiple of 1000');
    }
    sh.run('gpio load i2c ' + baudRate);
  } else {
    sh.run('gpio load i2c');
  }
  this.address = address;
  this.fd = addon.init(this.address);
};
var $I2C = I2C;
($traceurRuntime.createClass)(I2C, {
  read: function() {
    if (!this.alive) {
      throw new Error('Attempted to read from a destroyed peripheral');
    }
    return addon.read();
  },
  readReg8: function() {
    if (!this.alive) {
      throw new Error('Attempted to read from a destroyed peripheral');
    }
    return addon.readReg8();
  },
  readReg16: function() {
    if (!this.alive) {
      throw new Error('Attempted to read from a destroyed peripheral');
    }
    return addon.readReg16();
  },
  write: function(value) {
    if (!this.alive) {
      throw new Error('Attempted to write to a destroyed peripheral');
    }
    addon.write(value);
  },
  writeReg8: function(value) {
    if (!this.alive) {
      throw new Error('Attempted to write to a destroyed peripheral');
    }
    addon.writeReg8(value);
  },
  writeReg16: function(value) {
    if (!this.alive) {
      throw new Error('Attempted to write to a destroyed peripheral');
    }
    addon.writeReg16(value);
  }
}, {}, Peripheral);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIiwiQHRyYWNldXIvZ2VuZXJhdGVkL1RlbXBsYXRlUGFyc2VyLzYiLCJAdHJhY2V1ci9nZW5lcmF0ZWQvVGVtcGxhdGVQYXJzZXIvNCIsIkB0cmFjZXVyL2dlbmVyYXRlZC9UZW1wbGF0ZVBhcnNlci8xIiwiQHRyYWNldXIvZ2VuZXJhdGVkL1RlbXBsYXRlUGFyc2VyLzIiLCJAdHJhY2V1ci9nZW5lcmF0ZWQvVGVtcGxhdGVQYXJzZXIvNSIsIkB0cmFjZXVyL2dlbmVyYXRlZC9UZW1wbGF0ZVBhcnNlci8wIiwiQHRyYWNldXIvZ2VuZXJhdGVkL1RlbXBsYXRlUGFyc2VyLzgiLCJAdHJhY2V1ci9nZW5lcmF0ZWQvVGVtcGxhdGVQYXJzZXIvNyIsIkB0cmFjZXVyL2dlbmVyYXRlZC9UZW1wbGF0ZVBhcnNlci8xMCIsIkB0cmFjZXVyL2dlbmVyYXRlZC9UZW1wbGF0ZVBhcnNlci85Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXdCQTtBQ3hCQSxLQUFLLGlCQUFpQixBQUFDLENBQUMsT0FBTTtLQ0E5QixFQUFDLEdBQUUsWUNBcUI7QUFBRSxnQkFBd0I7SUFBRSxBREE5QixDQUFDO0FFQXZCLFdBQVMsQ0NBVCxFQUFDLEtBQUksQ0RBTyxLQUFHLEFDQVMsQ0FBQztDSkF5QixDQUFDOzs7O0VEd0I1QyxHQUFDLEVNeEJSLEVBQUMsZUFBb0IsQ0FBQSxPQUFNLEFBQUMsWUFBa0IsQ0FDdEMsQ0FBQSxnQkFBcUIseUJBQTJCLENBQUEsZ0JBQXFCLEdBQUssRUFBQyxPQUFNLGVBQW1CLENBRDlELEFBQytELENBQUM7RU53QnJHLFdBQVMsRU16QmxCLEVBQUMsMEJBQW9CLENBQUEsT0FBTSxBQUFDLG9CQUFrQixDQUN0QyxDQUFBLDJCQUFxQixvQ0FBMkIsQ0FBQSwyQkFBcUIsR0FBSyxFQUFDLE9BQU0sMEJBQW1CLENBRDlELEFBQytELENBQUM7RU55QnZHLE1BQUksRU0xQlgsRUFBQyw0Q0FBb0IsQ0FBQSxPQUFNLEFBQUMsMEJBQWtCLENBQ3RDLENBQUEsNkNBQXFCLHNEQUEyQixDQUFBLDZDQUFxQixHQUFLLEVBQUMsT0FBTSw0Q0FBbUIsQ0FEOUQsQUFDK0QsQ0FBQztBQ0Q5RyxBQUFJLEVBQUEsTVA0QkcsU0FBTSxJQUFFLENBQ0QsT0FBTSxDQUFHLENBQUEsUUFBTyxDQUFHO0FRN0JqQyxBUjhCSSxnQlE5QlUsVUFBVSxBQUFDLHVDUjhCZixDQUFFLEtBQUksQ0FBRyxNQUFJLENBQUUsRVE3QjJCLENSNkJ6QjtBQUN2QixLQUFJLFFBQU8sQ0FBRztBQUNaLE9BQUksTUFBTyxTQUFPLENBQUEsRUFBSyxPQUFLLENBQUEsRUFBSyxDQUFBLFFBQU8sRUFBSSxLQUFHLENBQUEsRUFBSyxFQUFBLENBQUc7QUFDckQsVUFBTSxJQUFJLE1BQUksQUFBQyxDQUFDLDhEQUE2RCxDQUFDLENBQUM7SUFDakY7QUFBQSxBQUNBLEtBQUMsSUFBSSxBQUFDLENBQUMsZ0JBQWUsRUFBSSxTQUFPLENBQUMsQ0FBQztFQUNyQyxLQUFPO0FBQ0wsS0FBQyxJQUFJLEFBQUMsQ0FBQyxlQUFjLENBQUMsQ0FBQztFQUN6QjtBQUFBLEFBQ0EsS0FBRyxRQUFRLEVBQUksUUFBTSxDQUFDO0FBQ3RCLEtBQUcsR0FBRyxFQUFJLENBQUEsS0FBSSxLQUFLLEFBQUMsQ0FBQyxJQUFHLFFBQVEsQ0FBQyxDQUFDO0FPeENFLEFQeUN0QyxDT3pDc0M7QUVBeEMsQUFBSSxFQUFBLFdBQW9DLENBQUE7QUNBeEMsQUFBQyxlQUFjLFlBQVksQ0FBQyxBQUFDO0FWMkMzQixLQUFHLENBQUgsVUFBSSxBQUFDLENBQUU7QUFDTCxPQUFJLENBQUMsSUFBRyxNQUFNLENBQUc7QUFDZixVQUFNLElBQUksTUFBSSxBQUFDLENBQUMsK0NBQThDLENBQUMsQ0FBQztJQUNsRTtBQUFBLEFBQ0EsU0FBTyxDQUFBLEtBQUksS0FBSyxBQUFDLEVBQUMsQ0FBQztFQUNyQjtBQUVBLFNBQU8sQ0FBUCxVQUFRLEFBQUMsQ0FBRTtBQUNULE9BQUksQ0FBQyxJQUFHLE1BQU0sQ0FBRztBQUNmLFVBQU0sSUFBSSxNQUFJLEFBQUMsQ0FBQywrQ0FBOEMsQ0FBQyxDQUFDO0lBQ2xFO0FBQUEsQUFDQSxTQUFPLENBQUEsS0FBSSxTQUFTLEFBQUMsRUFBQyxDQUFDO0VBQ3pCO0FBRUEsVUFBUSxDQUFSLFVBQVMsQUFBQyxDQUFFO0FBQ1YsT0FBSSxDQUFDLElBQUcsTUFBTSxDQUFHO0FBQ2YsVUFBTSxJQUFJLE1BQUksQUFBQyxDQUFDLCtDQUE4QyxDQUFDLENBQUM7SUFDbEU7QUFBQSxBQUNBLFNBQU8sQ0FBQSxLQUFJLFVBQVUsQUFBQyxFQUFDLENBQUM7RUFDMUI7QUFFQSxNQUFJLENBQUosVUFBTSxLQUFJLENBQUc7QUFDWCxPQUFJLENBQUMsSUFBRyxNQUFNLENBQUc7QUFDZixVQUFNLElBQUksTUFBSSxBQUFDLENBQUMsOENBQTZDLENBQUMsQ0FBQztJQUNqRTtBQUFBLEFBQ0EsUUFBSSxNQUFNLEFBQUMsQ0FBQyxLQUFJLENBQUMsQ0FBQztFQUNwQjtBQUVBLFVBQVEsQ0FBUixVQUFVLEtBQUksQ0FBRztBQUNmLE9BQUksQ0FBQyxJQUFHLE1BQU0sQ0FBRztBQUNmLFVBQU0sSUFBSSxNQUFJLEFBQUMsQ0FBQyw4Q0FBNkMsQ0FBQyxDQUFDO0lBQ2pFO0FBQUEsQUFDQSxRQUFJLFVBQVUsQUFBQyxDQUFDLEtBQUksQ0FBQyxDQUFDO0VBQ3hCO0FBRUEsV0FBUyxDQUFULFVBQVcsS0FBSSxDQUFHO0FBQ2hCLE9BQUksQ0FBQyxJQUFHLE1BQU0sQ0FBRztBQUNmLFVBQU0sSUFBSSxNQUFJLEFBQUMsQ0FBQyw4Q0FBNkMsQ0FBQyxDQUFDO0lBQ2pFO0FBQUEsQUFDQSxRQUFJLFdBQVcsQUFBQyxDQUFDLEtBQUksQ0FBQyxDQUFDO0VBQ3pCO0FBQUEsS0F2RHVCLFdBQVMsQ1UzQnNCO0FWb0Z4RCIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG5UaGUgTUlUIExpY2Vuc2UgKE1JVClcblxuQ29weXJpZ2h0IChjKSAyMDE0IEJyeWFuIEh1Z2hlcyA8YnJ5YW5AdGhlb3JldGljYWxpZGVhdGlvbnMuY29tPiAoaHR0cDovL3RoZW9yZXRpY2FsaWRlYXRpb25zLmNvbSlcblxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuVEhFIFNPRlRXQVJFLlxuKi9cblxuaW1wb3J0IHNoIGZyb20gJ2V4ZWNTeW5jJztcbmltcG9ydCB7IFBlcmlwaGVyYWwgfSBmcm9tICdyYXNwaS1wZXJpcGhlcmFsJztcbmltcG9ydCBhZGRvbiBmcm9tICcuLi9idWlsZC9SZWxlYXNlL2FkZG9uJztcblxuZXhwb3J0IGNsYXNzIEkyQyBleHRlbmRzIFBlcmlwaGVyYWwge1xuICBjb25zdHJ1Y3RvcihhZGRyZXNzLCBiYXVkUmF0ZSkge1xuICAgIHN1cGVyKFsgJ1NEQScsICdTQ0wnIF0pO1xuICAgIGlmIChiYXVkUmF0ZSkge1xuICAgICAgaWYgKHR5cGVvZiBiYXVkUmF0ZSAhPSBudW1iZXIgfHwgYmF1ZFJhdGUgJSAxMDAwICE9IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIEkyQyBiYXVkIHJhdGUuIEJhdWQgcmF0ZXMgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDEwMDAnKTtcbiAgICAgIH1cbiAgICAgIHNoLnJ1bignZ3BpbyBsb2FkIGkyYyAnICsgYmF1ZFJhdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzaC5ydW4oJ2dwaW8gbG9hZCBpMmMnKTtcbiAgICB9XG4gICAgdGhpcy5hZGRyZXNzID0gYWRkcmVzcztcbiAgICB0aGlzLmZkID0gYWRkb24uaW5pdCh0aGlzLmFkZHJlc3MpO1xuICB9XG5cbiAgcmVhZCgpIHtcbiAgICBpZiAoIXRoaXMuYWxpdmUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQXR0ZW1wdGVkIHRvIHJlYWQgZnJvbSBhIGRlc3Ryb3llZCBwZXJpcGhlcmFsJyk7XG4gICAgfVxuICAgIHJldHVybiBhZGRvbi5yZWFkKCk7XG4gIH1cblxuICByZWFkUmVnOCgpIHtcbiAgICBpZiAoIXRoaXMuYWxpdmUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQXR0ZW1wdGVkIHRvIHJlYWQgZnJvbSBhIGRlc3Ryb3llZCBwZXJpcGhlcmFsJyk7XG4gICAgfVxuICAgIHJldHVybiBhZGRvbi5yZWFkUmVnOCgpO1xuICB9XG5cbiAgcmVhZFJlZzE2KCkge1xuICAgIGlmICghdGhpcy5hbGl2ZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBdHRlbXB0ZWQgdG8gcmVhZCBmcm9tIGEgZGVzdHJveWVkIHBlcmlwaGVyYWwnKTtcbiAgICB9XG4gICAgcmV0dXJuIGFkZG9uLnJlYWRSZWcxNigpO1xuICB9XG5cbiAgd3JpdGUodmFsdWUpIHtcbiAgICBpZiAoIXRoaXMuYWxpdmUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQXR0ZW1wdGVkIHRvIHdyaXRlIHRvIGEgZGVzdHJveWVkIHBlcmlwaGVyYWwnKTtcbiAgICB9XG4gICAgYWRkb24ud3JpdGUodmFsdWUpO1xuICB9XG5cbiAgd3JpdGVSZWc4KHZhbHVlKSB7XG4gICAgaWYgKCF0aGlzLmFsaXZlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0F0dGVtcHRlZCB0byB3cml0ZSB0byBhIGRlc3Ryb3llZCBwZXJpcGhlcmFsJyk7XG4gICAgfVxuICAgIGFkZG9uLndyaXRlUmVnOCh2YWx1ZSk7XG4gIH1cblxuICB3cml0ZVJlZzE2KHZhbHVlKSB7XG4gICAgaWYgKCF0aGlzLmFsaXZlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0F0dGVtcHRlZCB0byB3cml0ZSB0byBhIGRlc3Ryb3llZCBwZXJpcGhlcmFsJyk7XG4gICAgfVxuICAgIGFkZG9uLndyaXRlUmVnMTYodmFsdWUpO1xuICB9XG59XG4iLCJPYmplY3QuZGVmaW5lUHJvcGVydGllcyhleHBvcnRzLCAkX19wbGFjZWhvbGRlcl9fMCk7Iiwie2dldDogJF9fcGxhY2Vob2xkZXJfXzB9IiwiZ2V0ICRfX3BsYWNlaG9sZGVyX18wKCkgeyByZXR1cm4gJF9fcGxhY2Vob2xkZXJfXzE7IH0iLCJfX2VzTW9kdWxlOiB0cnVlIiwie3ZhbHVlOiAkX19wbGFjZWhvbGRlcl9fMH0iLCIoJF9fcGxhY2Vob2xkZXJfXzAgPSByZXF1aXJlKCRfX3BsYWNlaG9sZGVyX18xKSwgXG4gICAgICAgICRfX3BsYWNlaG9sZGVyX18yICYmICRfX3BsYWNlaG9sZGVyX18zLl9fZXNNb2R1bGUgJiYgJF9fcGxhY2Vob2xkZXJfXzQgfHwge2RlZmF1bHQ6ICRfX3BsYWNlaG9sZGVyX181fSkiLCJ2YXIgJF9fcGxhY2Vob2xkZXJfXzAgPSAkX19wbGFjZWhvbGRlcl9fMSIsIiR0cmFjZXVyUnVudGltZS5zdXBlckNhbGwoJF9fcGxhY2Vob2xkZXJfXzAsICRfX3BsYWNlaG9sZGVyX18xLCAkX19wbGFjZWhvbGRlcl9fMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJF9fcGxhY2Vob2xkZXJfXzMpIiwidmFyICRfX3BsYWNlaG9sZGVyX18wID0gJF9fcGxhY2Vob2xkZXJfXzEiLCIoJHRyYWNldXJSdW50aW1lLmNyZWF0ZUNsYXNzKSgkX19wbGFjZWhvbGRlcl9fMCwgJF9fcGxhY2Vob2xkZXJfXzEsICRfX3BsYWNlaG9sZGVyX18yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJF9fcGxhY2Vob2xkZXJfXzMpIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9